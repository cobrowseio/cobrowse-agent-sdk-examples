(this["webpackJsonpreact-example"]=this["webpackJsonpreact-example"]||[]).push([[0],{209:function(e,n,t){},224:function(e,n,t){"use strict";t.r(n);var c=t(133),o=t(5),s=t.n(o),i=t(40),r=t(0),a=t(131),d=t.n(a),u=t(56),l=t.n(u),p=t(132),j=t.n(p),b=(t(209),t(22));var f=function(e){return Object(r.jsxs)("div",{className:"App",style:{margin:15},children:[Object(r.jsx)("h2",{children:"Smart Connect Buttons"}),Object(r.jsx)("p",{children:"These buttons change style and become clickable when a device comes online."}),e.devices.map((function(n){return Object(r.jsx)(b.SmartConnectButton,{onClick:e.connect,device:n},n.id)})),Object(r.jsx)("p",{children:"Customise button labels"}),e.devices.map((function(n){return Object(r.jsx)(b.SmartConnectButton,{label:Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(b.PlatformIcon,{style:{width:20,height:20,marginLeft:0},platform:n.device.platform}),Object(r.jsx)("span",{style:{marginLeft:7},children:"Join"})]}),onClick:e.connect,device:n},n.id)})),Object(r.jsx)("h2",{children:"Six Digit Code Entry"}),Object(r.jsx)("p",{children:"A component for accepting a screen share code."}),Object(r.jsx)(b.CodeEntry,{onCode:e.handleCode}),Object(r.jsx)("h2",{children:"Device Listing"}),Object(r.jsx)("p",{children:"A list of devices whose details update in real time."}),e.devices.map((function(n){return Object(r.jsx)(b.Device,{device:n,connect:e.connect},n.id)})),Object(r.jsx)("p",{children:"A device list with some customisation."}),e.devices.map((function(e){return Object(r.jsxs)("div",{style:{border:"2px solid ".concat(e.online?"orange":"#eee"),borderRadius:5,marginTop:7},children:[Object(r.jsx)(b.Device,{style:{border:"0px none",marginTop:7},device:e,children:Object(r.jsx)("button",{children:"Custom Button"})}),Object.keys(e.custom_data).map((function(n){return Object(r.jsxs)("div",{style:{display:"inline-block",margin:4,padding:"3px 7px",fontSize:12,borderRadius:10,background:"#f3f3f3"},children:[Object(r.jsx)("b",{children:n}),Object(r.jsx)("span",{children:" = "}),Object(r.jsx)("code",{children:e.custom_data[n]})]},n)}))]},e.id)})),Object(r.jsx)("h2",{children:"Session Listing"}),Object(r.jsx)("p",{children:"A list of previous sessions."}),e.sessions.map((function(n){return Object(r.jsx)(b.Session,{session:n,onClick:function(){return e.openSession(n)},style:{cursor:"pointer"}},n.id)})),Object(r.jsx)("p",{children:"A session list with some customisation."}),e.sessions.map((function(n){return Object(r.jsxs)("div",{style:{borderRadius:5,marginTop:7},children:[Object(r.jsx)(b.Session,{style:{border:"0px none",marginTop:7},onClick:function(){return e.openSession(n)},session:n}),Object.keys(n.custom_data).map((function(e){return Object(r.jsxs)("div",{style:{display:"inline-block",margin:4,padding:"3px 7px",fontSize:12,borderRadius:10,background:"#f3f3f3"},children:[Object(r.jsx)("b",{children:e}),Object(r.jsx)("span",{children:" = "}),Object(r.jsx)("code",{children:n.custom_data[e]})]},e)}))]},n.id)}))]})},h=new d.a;function x(e){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(s.a.mark((function e(n){var t,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return window.localStorage.cobrowse_demo_id=n,e.next=5,fetch("".concat(h.api,"/api/1/demo/token?cobrowseio_demo_id=").concat(n));case 5:return t=e.sent,e.next=8,t.json();case 8:return c=e.sent,o=c.token,h.token=o,e.next=13,O();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(s.a.mark((function e(){var n,t,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([h.devices.list(),h.sessions.list({state:["active","ended"],activated:new Date(0)})]);case 2:n=e.sent,t=Object(c.a)(n,2),o=t[0],i=t[1],o.forEach((function(e){return e.subscribe()})),i.forEach((function(e){return e.subscribe()})),_(o,i),o.forEach((function(e){return e.on("updated",(function(){return _(o,i)}))})),i.forEach((function(e){return e.on("updated",(function(){return _(o,i)}))}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.attachContext(n);case 2:(t=e.sent).on("session.updated",(function(e){e.ended&&(n.close(),O(),t.destroy())})),setTimeout((function(){console.log("ending session"),t.endSession(),t.destroy()}),5e3);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){w(window.open("".concat(h.api,"/connect/device/").concat(e.id,"?token=").concat(h.token,"&end_action=none")))}function k(e){e.recorded&&"ended"===e.state?window.open("".concat(h.api,"/session/").concat(e.id,"/recording?token=").concat(h.token)):w(window.open("".concat(h.api,"/session/").concat(e.id,"?end_action=none&token=").concat(h.token)))}function S(e){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.sessions.get(n);case 3:if(!(t=e.sent)){e.next=7;break}return k(t),e.abrupt("return",!0);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];j.a.render(Object(r.jsxs)(l.a.StrictMode,{children:[Object(r.jsxs)("div",{className:"options",children:["Demo ID: ",Object(r.jsx)("input",{onBlur:function(e){return x(e.target.value)},defaultValue:window.localStorage.cobrowse_demo_id||""})]}),Object(r.jsx)(f,{devices:e.map((function(e){return e.toJSON()})),sessions:n.map((function(e){return e.toJSON()})),handleCode:S,connect:y,openSession:k})]}),document.getElementById("root"))}_(),x(window.localStorage.cobrowse_demo_id)}},[[224,1,2]]]);
//# sourceMappingURL=main.7e1b73d7.chunk.js.map